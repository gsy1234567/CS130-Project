{
  "version": "2.0.0",
  "tasks": [
    {
      "label": "[P1] compile",
      "type": "process",
      "command": "make",
      "options": {
        "cwd": "${workspaceFolder}/src/threads"
      }
    },
    {
      "label": "[P2] compile",
      "type": "process",
      "command": "make",
      "options": {
        "cwd": "${workspaceFolder}/src/userprog"
      }
    },
    {
      "label": "[P3] compile",
      "type": "shell",
      "command": "make",
      "options": {
        "cwd": "${workspaceFolder}/src/vm"
      }
    },
    {
      "label": "[P4] compile",
      "type": "shell",
      "command": "make",
      "options": {
        "cwd": "${workspaceFolder}/src/filesys"
      }
    },
    {
      "label": "[P1] Run Test in GDB mode",
      "type": "process",
      "isBackground": true,
      "problemMatcher": [
        {
          "pattern": [
            {
              "regexp": ".",
              "file": 1,
              "location": 2,
              "message": 3
            }
          ],
          "background": {
            "activeOnStart": true,
            "beginsPattern": ".",
            "endsPattern": "."
          }
        }
      ],
      "command": "make",
      "args": [
        "tests/threads/${input:p1_test_name}.debug"
      ],
      "dependsOn": [
        "[P1] compile"
      ],
      "options": {
        "cwd": "${workspaceFolder}/src/threads/build"
      }
    },
    {
      "label": "[P2] Run Test in GDB mode",
      "type": "process",
      "isBackground": true,
      "problemMatcher": [
        {
          "pattern": [
            {
              "regexp": ".",
              "file": 1,
              "location": 2,
              "message": 3
            }
          ],
          "background": {
            "activeOnStart": true,
            "beginsPattern": ".",
            "endsPattern": "."
          }
        }
      ],
      "command": "make",
      "args": [
        "tests/${input:p2_test_name}.debug"
      ],
      "dependsOn": [
        "[P2] compile"
      ],
      "options": {
        "cwd": "${workspaceFolder}/src/userprog/build"
      }
    },
    {
      "label": "[P3] Run Test in GDB mode",
      "type": "process",
      "isBackground": true,
      "problemMatcher": [
        {
          "pattern": [
            {
              "regexp": ".",
              "file": 1,
              "location": 2,
              "message": 3
            }
          ],
          "background": {
            "activeOnStart": true,
            "beginsPattern": ".",
            "endsPattern": "."
          }
        }
      ],
      "dependsOn": [
        "[P3] compile"
      ],
      "command": "make",
      "args": [
        "tests/${input:p3_test_name}.debug"
      ],
      "options": {
        "cwd": "${workspaceFolder}/src/vm/build"
      }
    },
    {
      "label": "[P4] Run Test in GDB mode",
      "type": "process",
      "isBackground": true,
      "problemMatcher": [
        {
          "pattern": [
            {
              "regexp": ".",
              "file": 1,
              "location": 2,
              "message": 3
            }
          ],
          "background": {
            "activeOnStart": true,
            "beginsPattern": ".",
            "endsPattern": "."
          }
        }
      ],
      "dependsOn": [
        "[P4] compile"
      ],
      "command": "make",
      "args": [
        "tests/${input:p4_test_name}.debug"
      ],
      "options": {
        "cwd": "${workspaceFolder}/src/filesys/build"
      }
    },
    {
      "type": "cppbuild",
      "label": "C/C++: gcc build active file",
      "command": "/usr/bin/gcc",
      "args": [
        "-fdiagnostics-color=always",
        "-g",
        "${file}",
        "-o",
        "${fileDirname}/${fileBasenameNoExtension}"
      ],
      "options": {
        "cwd": "${fileDirname}"
      },
      "problemMatcher": [
        "$gcc"
      ],
      "group": "build",
      "detail": "Task generated by Debugger."
    }
  ],
  "inputs": [
    {
      "id": "p1_test_name",
      "type": "pickString",
      "description": "Name of the program containing the symbols",
      "options": [
        "alarm-single",
        "alarm-multiple",
        "alarm-simultaneous",
        "alarm-priority",
        "alarm-zero",
        "alarm-negative",
        "priority-change",
        "priority-donate-one",
        "priority-donate-multiple",
        "priority-donate-multiple2",
        "priority-donate-nest",
        "priority-donate-sema",
        "priority-donate-lower",
        "priority-fifo",
        "priority-preempt",
        "priority-sema",
        "priority-condvar",
        "priority-donate-chain",
        "mlfqs-load-1",
        "mlfqs-load-60",
        "mlfqs-load-avg",
        "mlfqs-recent-1",
        "mlfqs-fair-2",
        "mlfqs-fair-20",
        "mlfqs-nice-2",
        "mlfqs-nice-10",
        "mlfqs-block",
        "my-test",
        "my-test-big"
      ]
    },
    {
      "id": "p2_test_name",
      "type": "pickString",
      "description": "Name of the Program to load for debugging (e.g., args-multiple)",
      "options": [
        "userprog/args-none",
        "userprog/args-single",
        "userprog/args-multiple",
        "userprog/args-many",
        "userprog/args-dbl-space",
        "userprog/sc-bad-sp",
        "userprog/sc-bad-arg",
        "userprog/sc-boundary",
        "userprog/sc-boundary-2",
        "userprog/sc-boundary-3",
        "userprog/halt",
        "userprog/exit",
        "userprog/create-normal",
        "userprog/create-empty",
        "userprog/create-null",
        "userprog/create-bad-ptr",
        "userprog/create-long",
        "userprog/create-exists",
        "userprog/create-bound",
        "userprog/open-normal",
        "userprog/open-missing",
        "userprog/open-boundary",
        "userprog/open-empty",
        "userprog/open-null",
        "userprog/open-bad-ptr",
        "userprog/open-twice",
        "userprog/close-normal",
        "userprog/close-twice",
        "userprog/close-stdin",
        "userprog/close-stdout",
        "userprog/close-bad-fd",
        "userprog/read-normal",
        "userprog/read-bad-ptr",
        "userprog/read-boundary",
        "userprog/read-zero",
        "userprog/read-stdout",
        "userprog/read-bad-fd",
        "userprog/write-normal",
        "userprog/write-bad-ptr",
        "userprog/write-boundary",
        "userprog/write-zero",
        "userprog/write-stdin",
        "userprog/write-bad-fd",
        "userprog/exec-once",
        "userprog/exec-arg",
        "userprog/exec-bound",
        "userprog/exec-bound-2",
        "userprog/exec-bound-3",
        "userprog/exec-multiple",
        "userprog/exec-missing",
        "userprog/exec-bad-ptr",
        "userprog/wait-simple",
        "userprog/wait-twice",
        "userprog/wait-killed",
        "userprog/wait-bad-pid",
        "userprog/multi-recurse",
        "userprog/multi-child-fd",
        "userprog/rox-simple",
        "userprog/rox-child",
        "userprog/rox-multichild",
        "userprog/bad-read",
        "userprog/bad-write",
        "userprog/bad-read2",
        "userprog/bad-write2",
        "userprog/bad-jump",
        "userprog/bad-jump2",
        "userprog/no-vm/multi-oom",
        "filesys/base/lg-create",
        "filesys/base/lg-full",
        "filesys/base/lg-random",
        "filesys/base/lg-seq-block",
        "filesys/base/lg-seq-random",
        "filesys/base/sm-create",
        "filesys/base/sm-full",
        "filesys/base/sm-random",
        "filesys/base/sm-seq-block",
        "filesys/base/sm-seq-random",
        "filesys/base/syn-read",
        "filesys/base/syn-remove",
        "filesys/base/syn-write"
      ]
    },
    {
      "id": "p3_test_name",
      "type": "pickString",
      "description": "Name of the Program to load for debugging (e.g., pt-grow-stack)",
      "options": [
        "userprog/args-none",
        "userprog/args-single",
        "userprog/args-multiple",
        "userprog/args-many",
        "userprog/args-dbl-space",
        "userprog/sc-bad-sp",
        "userprog/sc-bad-arg",
        "userprog/sc-boundary",
        "userprog/sc-boundary-2",
        "userprog/sc-boundary-3",
        "userprog/halt",
        "userprog/exit",
        "userprog/create-normal",
        "userprog/create-empty",
        "userprog/create-null",
        "userprog/create-bad-ptr",
        "userprog/create-long",
        "userprog/create-exists",
        "userprog/create-bound",
        "userprog/open-normal",
        "userprog/open-missing",
        "userprog/open-boundary",
        "userprog/open-empty",
        "userprog/open-null",
        "userprog/open-bad-ptr",
        "userprog/open-twice",
        "userprog/close-normal",
        "userprog/close-twice",
        "userprog/close-stdin",
        "userprog/close-stdout",
        "userprog/close-bad-fd",
        "userprog/read-normal",
        "userprog/read-bad-ptr",
        "userprog/read-boundary",
        "userprog/read-zero",
        "userprog/read-stdout",
        "userprog/read-bad-fd",
        "userprog/write-normal",
        "userprog/write-bad-ptr",
        "userprog/write-boundary",
        "userprog/write-zero",
        "userprog/write-stdin",
        "userprog/write-bad-fd",
        "userprog/exec-once",
        "userprog/exec-arg",
        "userprog/exec-bound",
        "userprog/exec-bound-2",
        "userprog/exec-bound-3",
        "userprog/exec-multiple",
        "userprog/exec-missing",
        "userprog/exec-bad-ptr",
        "userprog/wait-simple",
        "userprog/wait-twice",
        "userprog/wait-killed",
        "userprog/wait-bad-pid",
        "userprog/multi-recurse",
        "userprog/multi-child-fd",
        "userprog/rox-simple",
        "userprog/rox-child",
        "userprog/rox-multichild",
        "userprog/bad-read",
        "userprog/bad-write",
        "userprog/bad-read2",
        "userprog/bad-write2",
        "userprog/bad-jump",
        "userprog/bad-jump2",
        "userprog/no-vm/multi-oom",
        "filesys/base/lg-create",
        "filesys/base/lg-full",
        "filesys/base/lg-random",
        "filesys/base/lg-seq-block",
        "filesys/base/lg-seq-random",
        "filesys/base/sm-create",
        "filesys/base/sm-full",
        "filesys/base/sm-random",
        "filesys/base/sm-seq-block",
        "filesys/base/sm-seq-random",
        "filesys/base/syn-read",
        "filesys/base/syn-remove",
        "filesys/base/syn-write",
        "vm/pt-grow-stack",
        "vm/pt-grow-pusha",
        "vm/pt-grow-bad",
        "vm/pt-big-stk-obj",
        "vm/pt-bad-addr",
        "vm/pt-bad-read",
        "vm/pt-write-code",
        "vm/pt-write-code2",
        "vm/pt-grow-stk-sc",
        "vm/page-linear",
        "vm/page-parallel",
        "vm/page-merge-seq",
        "vm/page-merge-par",
        "vm/page-merge-stk",
        "vm/page-merge-mm",
        "vm/page-shuffle",
        "vm/mmap-read",
        "vm/mmap-close",
        "vm/mmap-unmap",
        "vm/mmap-overlap",
        "vm/mmap-twice",
        "vm/mmap-write",
        "vm/mmap-exit",
        "vm/mmap-shuffle",
        "vm/mmap-bad-fd",
        "vm/mmap-clean",
        "vm/mmap-inherit",
        "vm/mmap-misalign",
        "vm/mmap-null",
        "vm/mmap-over-code",
        "vm/mmap-over-data",
        "vm/mmap-over-stk",
        "vm/mmap-remove",
        "vm/mmap-zero"
      ]
    },
    {
      "id": "p4_test_name",
      "type": "pickString",
      "description": "Name of the Program to load for debugging (e.g., filesys/extended/dir-empty-name)",
      "options": [
        "userprog/args-none",
        "userprog/args-single",
        "userprog/args-multiple",
        "userprog/args-many",
        "userprog/args-dbl-space",
        "userprog/sc-bad-sp",
        "userprog/sc-bad-arg",
        "userprog/sc-boundary",
        "userprog/sc-boundary-2",
        "userprog/sc-boundary-3",
        "userprog/halt",
        "userprog/exit",
        "userprog/create-normal",
        "userprog/create-empty",
        "userprog/create-null",
        "userprog/create-bad-ptr",
        "userprog/create-long",
        "userprog/create-exists",
        "userprog/create-bound",
        "userprog/open-normal",
        "userprog/open-missing",
        "userprog/open-boundary",
        "userprog/open-empty",
        "userprog/open-null",
        "userprog/open-bad-ptr",
        "userprog/open-twice",
        "userprog/close-normal",
        "userprog/close-twice",
        "userprog/close-stdin",
        "userprog/close-stdout",
        "userprog/close-bad-fd",
        "userprog/read-normal",
        "userprog/read-bad-ptr",
        "userprog/read-boundary",
        "userprog/read-zero",
        "userprog/read-stdout",
        "userprog/read-bad-fd",
        "userprog/write-normal",
        "userprog/write-bad-ptr",
        "userprog/write-boundary",
        "userprog/write-zero",
        "userprog/write-stdin",
        "userprog/write-bad-fd",
        "userprog/exec-once",
        "userprog/exec-arg",
        "userprog/exec-bound",
        "userprog/exec-bound-2",
        "userprog/exec-bound-3",
        "userprog/exec-multiple",
        "userprog/exec-missing",
        "userprog/exec-bad-ptr",
        "userprog/wait-simple",
        "userprog/wait-twice",
        "userprog/wait-killed",
        "userprog/wait-bad-pid",
        "userprog/multi-recurse",
        "userprog/multi-child-fd",
        "userprog/rox-simple",
        "userprog/rox-child",
        "userprog/rox-multichild",
        "userprog/bad-read",
        "userprog/bad-write",
        "userprog/bad-read2",
        "userprog/bad-write2",
        "userprog/bad-jump",
        "userprog/bad-jump2",
        "filesys/base/lg-create",
        "filesys/base/lg-full",
        "filesys/base/lg-random",
        "filesys/base/lg-seq-block",
        "filesys/base/lg-seq-random",
        "filesys/base/sm-create",
        "filesys/base/sm-full",
        "filesys/base/sm-random",
        "filesys/base/sm-seq-block",
        "filesys/base/sm-seq-random",
        "filesys/base/syn-read",
        "filesys/base/syn-remove",
        "filesys/base/syn-write",
        "filesys/extended/dir-empty-name",
        "filesys/extended/dir-mk-tree",
        "filesys/extended/dir-mkdir",
        "filesys/extended/dir-open",
        "filesys/extended/dir-over-file",
        "filesys/extended/dir-rm-cwd",
        "filesys/extended/dir-rm-parent",
        "filesys/extended/dir-rm-root",
        "filesys/extended/dir-rm-tree",
        "filesys/extended/dir-rmdir",
        "filesys/extended/dir-under-file",
        "filesys/extended/dir-vine",
        "filesys/extended/grow-create",
        "filesys/extended/grow-dir-lg",
        "filesys/extended/grow-file-size",
        "filesys/extended/grow-root-lg",
        "filesys/extended/grow-root-sm",
        "filesys/extended/grow-seq-lg",
        "filesys/extended/grow-seq-sm",
        "filesys/extended/grow-sparse",
        "filesys/extended/grow-tell",
        "filesys/extended/grow-two-files",
        "filesys/extended/syn-rw",
        "filesys/extended/dir-empty-name-persistence",
        "filesys/extended/dir-mk-tree-persistence",
        "filesys/extended/dir-mkdir-persistence",
        "filesys/extended/dir-open-persistence",
        "filesys/extended/dir-over-file-persistence",
        "filesys/extended/dir-rm-cwd-persistence",
        "filesys/extended/dir-rm-parent-persistence",
        "filesys/extended/dir-rm-root-persistence",
        "filesys/extended/dir-rm-tree-persistence",
        "filesys/extended/dir-rmdir-persistence",
        "filesys/extended/dir-under-file-persistence",
        "filesys/extended/dir-vine-persistence",
        "filesys/extended/grow-create-persistence",
        "filesys/extended/grow-dir-lg-persistence",
        "filesys/extended/grow-file-size-persistence",
        "filesys/extended/grow-root-lg-persistence",
        "filesys/extended/grow-root-sm-persistence",
        "filesys/extended/grow-seq-lg-persistence",
        "filesys/extended/grow-seq-sm-persistence",
        "filesys/extended/grow-sparse-persistence",
        "filesys/extended/grow-tell-persistence",
        "filesys/extended/grow-two-files-persistence",
        "filesys/extended/syn-rw-persistence"
      ]
    }
  ]
}